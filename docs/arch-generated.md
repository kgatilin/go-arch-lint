# Project Architecture

**Generated by go-arch-lint on 2025-10-18**

## Table of Contents
- [Project Structure](#project-structure)
- [Architectural Rules](#architectural-rules)
- [Dependency Graph](#dependency-graph)
- [Public API](#public-api)
- [Statistics](#statistics)

---

## Project Structure

Required directories as defined in `.goarchlint`:

### cmd
**Purpose**: Command-line entry points

**Allowed dependencies**: pkg

**Status**: ✓ Exists

---

### pkg
**Purpose**: Public API and orchestration layer with adapters

**Allowed dependencies**: internal

**Status**: ✓ Exists

---

### internal
**Purpose**: Domain primitives with complete isolation

**Allowed dependencies**: None (isolated layer)

**Status**: ✓ Exists

---

---

## Architectural Rules

From `.goarchlint`:

```yaml
structure:
  required_directories:
    cmd: "Command-line entry points"
    pkg: "Public API and orchestration layer with adapters"
    internal: "Domain primitives with complete isolation"
  allow_other_directories: true

rules:
  directories_import:
    internal: []
    cmd: [pkg]
    pkg: [internal]
  detect_unused: false
```

**Validation Status**: ✓ No violations found

---

## Dependency Graph

Detailed method-level dependencies between files:

### cmd/go-arch-lint/main.go
**Package**: main

**Local Dependencies**:
- pkg/linter
  - AvailablePresets
  - Init
  - Run

**External Dependencies**:
- flag
  - Arg
  - Bool
  - ExitOnError
  - NArg
  - NewFlagSet
  - Parse
  - String
- fmt
  - Errorf
  - Fprintf
  - Fprintln
  - Print
  - Printf
  - Println
  - Scanln
- os
  - Args
  - Exit
  - MkdirAll
  - Stderr
  - WriteFile
- path/filepath
  - Abs
  - Dir
  - IsAbs
  - Join

---

### pkg/linter/linter.go
**Package**: linter

**Local Dependencies**:
- internal/config
  - Config
  - Load
- internal/graph
  - Build
  - BuildDetailed
  - FileInfo
  - FileNode
  - Graph
- internal/output
  - Dependency
  - ExportedDecl
  - FileNode
  - FileWithAPI
  - FormatViolations
  - FullDocumentation
  - GenerateAPIMarkdown
  - GenerateFullDocumentation
  - GenerateMarkdown
  - RulesInfo
  - StructureInfo
  - Violation
- internal/scanner
  - FileInfoWithAPI
  - New
- internal/validator
  - Dependency
  - FileNode
  - NewWithPath
  - Violation

**External Dependencies**:
- fmt
  - Errorf
  - Printf
  - Println
- os
  - IsNotExist
  - MkdirAll
  - Stat
  - WriteFile
- path/filepath
  - Join

---

### pkg/linter/presets.go
**Package**: linter

**Local Dependencies**: None

**External Dependencies**:
- fmt
  - Errorf
  - Sprintf
- os
  - MkdirAll
  - ReadFile
  - WriteFile
- path/filepath
  - Join
- gopkg.in/yaml.v3

---

### internal/config/config.go
**Package**: config

**Local Dependencies**: None

**External Dependencies**:
- fmt
  - Errorf
- os
  - IsNotExist
  - ReadFile
- path/filepath
  - Join
- gopkg.in/yaml.v3

---

### internal/graph/graph.go
**Package**: graph

**Local Dependencies**: None

**External Dependencies**:
- path/filepath
  - Dir
  - ToSlash
- strings
  - Contains
  - HasPrefix
  - Split
  - TrimPrefix

---

### internal/output/full.go
**Package**: output

**Local Dependencies**: None

**External Dependencies**:
- fmt
  - Sprintf
- strings
  - Builder
  - Join
- time
  - Now

---

### internal/output/markdown.go
**Package**: output

**Local Dependencies**: None

**External Dependencies**:
- fmt
  - Sprintf
- sort
  - Slice
  - Strings
- strings
  - Builder
  - Contains
  - HasPrefix
  - Index
  - Split
  - TrimPrefix

---

### internal/scanner/scanner.go
**Package**: scanner

**Local Dependencies**: None

**External Dependencies**:
- fmt
  - Errorf
- go/ast
  - ArrayType
  - ChanType
  - Ellipsis
  - Expr
  - File
  - FuncDecl
  - FuncType
  - GenDecl
  - Ident
  - Inspect
  - InterfaceType
  - MapType
  - Node
  - SelectorExpr
  - StarExpr
  - StructType
  - TypeSpec
  - ValueSpec
- go/parser
  - ImportsOnly
  - ParseComments
  - ParseFile
- go/token
  - CONST
  - NewFileSet
- os
  - FileInfo
  - IsNotExist
  - Stat
- path/filepath
  - Join
  - Rel
  - SkipDir
  - ToSlash
  - Walk
- sort
  - Strings
- strings
  - Builder
  - HasPrefix
  - HasSuffix
  - Split

---

### internal/validator/validator.go
**Package**: validator

**Local Dependencies**: None

**External Dependencies**:
- fmt
  - Sprintf
- os
  - FileInfo
  - IsNotExist
  - ReadDir
  - Stat
- path/filepath
  - Dir
  - Join
  - SkipAll
  - ToSlash
  - Walk
- strings
  - Contains
  - HasPrefix
  - HasSuffix
  - Join
  - Split
  - TrimPrefix

---

## Public API

Exported interfaces and types available for consumption:

### config

#### Types

**Config** `Config`
- Properties:
  - Module string
  - ScanPaths []string
  - IgnorePaths []string
  - Structure Structure
  - Rules Rules

**Structure** `Structure`
- Properties:
  - RequiredDirectories map[string]string
  - AllowOtherDirectories bool

**Rules** `Rules`
- Properties:
  - DirectoriesImport map[string][]string
  - DetectUnused bool

**GetDirectoriesImport** `(*Config) GetDirectoriesImport() map[string][]string`

**ShouldDetectUnused** `(*Config) ShouldDetectUnused() bool`

**GetRequiredDirectories** `(*Config) GetRequiredDirectories() map[string]string`

**ShouldAllowOtherDirectories** `(*Config) ShouldAllowOtherDirectories() bool`

**Load** `Load(string) (*Config, error)`

---

### graph

#### Types

**FileInfo** `FileInfo`

**Dependency** `Dependency`
- Properties:
  - ImportPath string
  - IsLocal bool
  - LocalPath string
  - UsedSymbols []string

**GetImportPath** `(Dependency) GetImportPath() string`

**GetLocalPath** `(Dependency) GetLocalPath() string`

**IsLocalDep** `(Dependency) IsLocalDep() bool`

**GetUsedSymbols** `(Dependency) GetUsedSymbols() []string`

**FileNode** `FileNode`
- Properties:
  - RelPath string
  - Package string
  - Dependencies []Dependency

**GetRelPath** `(FileNode) GetRelPath() string`

**GetPackage** `(FileNode) GetPackage() string`

**Graph** `Graph`
- Properties:
  - Nodes []FileNode

**Build** `Build([]FileInfo, string) *Graph`

**BuildDetailed** `BuildDetailed([]FileInfo, string, map[string]map[string][]string) *Graph`

**IsStdLib** `IsStdLib(string) bool`

**GetLocalPackages** `(*Graph) GetLocalPackages() []string`

---

### output

#### Types

**StructureInfo** `StructureInfo`
- Properties:
  - RequiredDirectories map[string]string
  - AllowOtherDirectories bool
  - ExistingDirs map[string]bool

**RulesInfo** `RulesInfo`
- Properties:
  - DirectoriesImport map[string][]string
  - DetectUnused bool

**FullDocumentation** `FullDocumentation`
- Properties:
  - Structure StructureInfo
  - Rules RulesInfo
  - Graph Graph
  - Files []FileWithAPI
  - Violations []Violation
  - ViolationCount int
  - FileCount int
  - PackageCount int

**GenerateFullDocumentation** `GenerateFullDocumentation(FullDocumentation) string`

#### Types

**Dependency** `Dependency`

**FileNode** `FileNode`

**Graph** `Graph`

**ExportedDecl** `ExportedDecl`

**FileWithAPI** `FileWithAPI`

**Violation** `Violation`

**GenerateMarkdown** `GenerateMarkdown(Graph) string`

**FormatViolations** `FormatViolations([]Violation) string`

**GenerateAPIMarkdown** `GenerateAPIMarkdown([]FileWithAPI) string`

---

### scanner

#### Types

**FileInfo** `FileInfo`
- Properties:
  - Path string
  - RelPath string
  - Package string
  - Imports []string

**ImportUsage** `ImportUsage`
- Properties:
  - ImportPath string
  - UsedSymbols []string

**GetImportPath** `(ImportUsage) GetImportPath() string`

**GetUsedSymbols** `(ImportUsage) GetUsedSymbols() []string`

**FileInfoDetailed** `FileInfoDetailed`
- Properties:
  - FileInfo
  - ImportUsages []ImportUsage

**GetImportUsages** `(FileInfoDetailed) GetImportUsages() []ImportUsage`

**ExportedDecl** `ExportedDecl`
- Properties:
  - Name string
  - Kind string
  - Signature string
  - Properties []string

**GetName** `(ExportedDecl) GetName() string`

**GetKind** `(ExportedDecl) GetKind() string`

**GetSignature** `(ExportedDecl) GetSignature() string`

**GetProperties** `(ExportedDecl) GetProperties() []string`

**FileInfoWithAPI** `FileInfoWithAPI`
- Properties:
  - FileInfo
  - ExportedDecls []ExportedDecl

**GetPackage** `(FileInfoWithAPI) GetPackage() string`

**GetRelPath** `(FileInfo) GetRelPath() string`

**GetPackage** `(FileInfo) GetPackage() string`

**GetImports** `(FileInfo) GetImports() []string`

**Scanner** `Scanner`

**New** `New(string, []string) *Scanner`

**Scan** `(*Scanner) Scan([]string) ([]FileInfo, error)`

**ScanDetailed** `(*Scanner) ScanDetailed([]string) ([]FileInfoDetailed, error)`

**ScanWithAPI** `(*Scanner) ScanWithAPI([]string) ([]FileInfoWithAPI, error)`

---

### validator

#### Types

**Config** `Config`

**Dependency** `Dependency`

**FileNode** `FileNode`

**Graph** `Graph`

**ViolationType** `ViolationType`

**ViolationPkgToPkg** `ViolationPkgToPkg`

**ViolationSkipLevel** `ViolationSkipLevel`

**ViolationCrossCmd** `ViolationCrossCmd`

**ViolationUnused** `ViolationUnused`

**ViolationForbidden** `ViolationForbidden`

**ViolationMissingDirectory** `ViolationMissingDirectory`

**ViolationUnexpectedDirectory** `ViolationUnexpectedDirectory`

**ViolationEmptyDirectory** `ViolationEmptyDirectory`

**ViolationUnusedDirectory** `ViolationUnusedDirectory`

**Violation** `Violation`
- Properties:
  - Type ViolationType
  - File string
  - Line int
  - Issue string
  - Rule string
  - Fix string

**GetType** `(Violation) GetType() string`

**GetFile** `(Violation) GetFile() string`

**GetLine** `(Violation) GetLine() int`

**GetIssue** `(Violation) GetIssue() string`

**GetRule** `(Violation) GetRule() string`

**GetFix** `(Violation) GetFix() string`

**Validator** `Validator`

**New** `New(Config, Graph) *Validator`

**NewWithPath** `NewWithPath(Config, Graph, string) *Validator`

**Validate** `(*Validator) Validate() []Violation`

---

### main

---

### linter

#### Types

**GetNodes** `(*graphAdapter) GetNodes() []validator.FileNode`

**GetRelPath** `(*fileNodeAdapter) GetRelPath() string`

**GetDependencies** `(*fileNodeAdapter) GetDependencies() []validator.Dependency`

**GetNodes** `(*outputGraphAdapter) GetNodes() []output.FileNode`

**GetRelPath** `(*outputFileNodeAdapter) GetRelPath() string`

**GetPackage** `(*outputFileNodeAdapter) GetPackage() string`

**GetDependencies** `(*outputFileNodeAdapter) GetDependencies() []output.Dependency`

**GetRelPath** `(*fileWithAPIAdapter) GetRelPath() string`

**GetPackage** `(*fileWithAPIAdapter) GetPackage() string`

**GetExportedDecls** `(*fileWithAPIAdapter) GetExportedDecls() []output.ExportedDecl`

**Run** `Run(string, string, bool) (string, string, error)`

**Init** `Init(string, bool) error`

#### Types

**Preset** `Preset`
- Properties:
  - Name string
  - Description string
  - Config PresetConfig

**PresetConfig** `PresetConfig`
- Properties:
  - Structure PresetStructure
  - Rules PresetRules

**PresetStructure** `PresetStructure`
- Properties:
  - RequiredDirectories map[string]string
  - AllowOtherDirectories bool

**PresetRules** `PresetRules`
- Properties:
  - DirectoriesImport map[string][]string
  - DetectUnused bool

**AvailablePresets** `AvailablePresets() []Preset`

**GetPreset** `GetPreset(string) (*Preset, error)`

**CreateConfigFromPreset** `CreateConfigFromPreset(string, bool) error`

---

## Statistics

- **Total Files**: 9
- **Total Packages**: 7
- **Required Directories**: 3/3 present
- **Violations**: 0
- **External Dependencies**: 11

---

*This documentation is auto-generated. To regenerate: `go-arch-lint -format=full .` or `go-arch-lint -format=docs .`*
